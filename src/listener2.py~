#!/usr/bin/python

import rospy
from sensor_msgs.msg import Image
from BotClient import BotClient


def callback(data):
    #rospy.loginfo(rospy.get_caller_id() + "I heard %s", str(data))
    # print type(str(data))
    f = open('/home/gareth/tits.txt', 'wb')
    f.write(str(data))
    f.close()


def listener():
    rospy.init_node('listener', anonymous=True)
    rospy.Subscriber('/usb_cam/image_raw', Image, callback)
    #rospy.Subscriber('turtle1/pose', Pose, callback)
    rospy.spin()

if __name__ == '__main__':
    client = BotClient(('localhost', 5556), 'ARMBOT')
    client.SyncStart()
    listener()
